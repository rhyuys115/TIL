# 라우팅 프로토콜

사람이 직접 경로를 결정해주고, 라우터는 입력받은 경로로만 패킷을 전송시키는 스태틱 라우팅

- 장점 : 라우팅 테이블을 교환하지 않아 라우팅이 가능해 대역폭 절약 가능, 외부에 자신의 경로를 알리지 않아 보안에 강하다.
- 단점 : 경로에 문제가 생길 경우 대처하기 어렵다.

라우터가 판단하여 가장 효율적인 방법으로 패킷을 전송시키는 다이나믹 라우팅



## 라우팅 알고리즘

라우팅 알고리즘은 네트워크를 통해 정보 이동 시 인접한 라우터들의 네트워크 정보와 메트릭 값을 받아 최적의 경로를 설정하는 과정이다. 메트릭은 경로 결정 시 비용계산에 영향을 미치는 요소들로 다음과 같은 예시가 있다.

- 홉수

  > 도달할 목적지의 거리(길이가 아닌 몇 개의 게이트웨이를 거치는지)

- 대역폭

- 지연

- 신뢰도

- 부하

라우팅 알고리즘에는 다음과 같은 요구사항이 필요하다.

- 정확성
- 단순성
- 견고성
- 안정성
- 공정성
- 최적성

일반적으로 distance vector 알고리즘의 RIP, IGRP, ELGRP 등과 link state algorithm의 OSPF, NLSP 등이 있다.

## RIP

사용하는 메트릭은 홉수이다. 홉수가 가장 적은 경로를 택하여 라우팅하는 프로토콜로 라우팅 테이블에 인접 라우터 정보를 저장하여 경로를 결정한다. 최대 홉수는 15이다. 거리가 짧기 때문에 내부용으로 많이 이용하는 프로토콜이다.

직접 연결되어 있는 라우터는 홉으로 계산하지 않고 30초 주기로 default routing을 업데이트 하여 인접 라우터로 정보를 전송한다.

경로의 네트워크 속도는 판단하지 않아 비효율적인 경로로 패킷을 전달할 가능성이 있다.

## OSPF

최단 경로 우선 프로토콜로 최소 시간 경로를 최적 라우팅 경로로 결정한다. 주로 대규모 기업망에서 사용된다. 

Area라는 개념을 사용하여 전체 네트워크를 작은 영역으로 나누어 효율적으로 관리하는 방식을 택한다. 각 AREA는 Back Bone Area에 연결되어있다. 또한 링크상태에 변화가 있을 시 즉각적으로 flooding을 해주기 때문에 컨버전스 타임이 매우 빠르다.



## BGP

외부 라우팅 프로토콜로 AS(관리 도메인) 사이에서 사용되는 라우팅 프로토콜이다. 경로 벡터 방식의 라우팅 프로토콜로 다른 내부용 프로토콜보다 컨버전스는 느리지만 대용량의 라우팅 정보를 교환할 수 있는 프로토콜이다.

